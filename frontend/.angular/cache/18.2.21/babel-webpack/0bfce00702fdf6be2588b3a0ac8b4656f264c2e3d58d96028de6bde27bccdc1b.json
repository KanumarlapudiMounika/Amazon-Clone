{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../product.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nconst _c0 = a0 => ({\n  \"background-image\": a0\n});\nfunction ProductListComponent_ng_container_55_div_1_p_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 34);\n    i0.ɵɵtext(1, \"In Stock\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductListComponent_ng_container_55_div_1_p_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 35);\n    i0.ɵɵtext(1, \"Out of Stock\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductListComponent_ng_container_55_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"img\", 31);\n    i0.ɵɵelementStart(2, \"h2\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"h2\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, ProductListComponent_ng_container_55_div_1_p_6_Template, 2, 0, \"p\", 32)(7, ProductListComponent_ng_container_55_div_1_p_7_Template, 2, 0, \"p\", 33);\n    i0.ɵɵelementStart(8, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function ProductListComponent_ng_container_55_div_1_Template_button_click_8_listener() {\n      const product_r5 = i0.ɵɵrestoreView(_r4).$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.viewDetails(product_r5.name));\n    });\n    i0.ɵɵtext(9, \"view Product\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const product_r5 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"src\", \"/images/Products/\" + product_r5.imageUrl, i0.ɵɵsanitizeUrl)(\"alt\", product_r5.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r5.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Price: \", product_r5.price, \"\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", product_r5.stockQuantity > 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", product_r5.stockQuantity === 0);\n  }\n}\nfunction ProductListComponent_ng_container_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ProductListComponent_ng_container_55_div_1_Template, 10, 6, \"div\", 30);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.products);\n  }\n}\nfunction ProductListComponent_ng_template_56_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"No Products Found\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let ProductListComponent = /*#__PURE__*/(() => {\n  class ProductListComponent {\n    constructor(productService, route, router) {\n      this.productService = productService;\n      this.route = route;\n      this.router = router;\n      this.products = [];\n      this.category = '';\n      this.subcategory = '';\n      this.searchPerformed = false;\n      this.searchKeyword = '';\n      this.selectedRating = 0;\n      this.selectedSubcategory = '';\n      this.isSidebarClosed = false;\n      this.backgroundImages = ['/images/catagories/bg1.jpg', '/images/catagories/bg2.jpg', '/images/catagories/bg3.jpg'];\n      this.currentBackground = this.backgroundImages[0];\n      this.bgIndex = 0;\n    }\n    ngOnInit() {\n      this.route.paramMap.subscribe(params => {\n        this.category = params.get('category');\n        this.subcategory = params.get('subcategory');\n        console.log(\"Navigated with:\", this.category, this.subcategory);\n        this.loadProducts();\n      });\n      setInterval(() => {\n        this.bgIndex = (this.bgIndex + 1) % this.backgroundImages.length;\n        this.currentBackground = this.backgroundImages[this.bgIndex];\n      }, 5000);\n    }\n    // Load products by category & subcategory\n    loadProducts() {\n      this.productService.getProductsByCategoryAndSubcategory(this.category, this.subcategory).subscribe(data => {\n        this.products = data;\n      }, error => {\n        console.error(\"API error:\", error);\n      });\n    }\n    // Navigate to product details\n    viewDetails(productName) {\n      this.router.navigate(['/product-details', productName]);\n    }\n    // Search products by keyword\n    onSearch() {\n      if (!this.searchKeyword) return;\n      this.productService.searchProducts(this.searchKeyword).subscribe(data => {\n        this.products = data;\n        this.searchPerformed = true;\n      });\n    }\n    // Filter by rating\n    onRatingChange(event) {\n      const selected = parseFloat(event.target.value);\n      if (!isNaN(selected)) {\n        this.selectedRating = selected;\n        this.filterByRating(selected);\n      }\n    }\n    filterByRating(rating) {\n      this.productService.getProductsByRating(rating).subscribe(data => {\n        this.products = data;\n      });\n    }\n    // Filter by price & subcategory\n    filterByPrice(min, max) {\n      this.productService.filterByPriceAndSubcategory(this.subcategory, min, max).subscribe(data => {\n        this.products = data;\n      });\n    }\n    // Combined filter: rating + subcategory\n    applyFilters() {\n      if (this.selectedSubcategory && this.selectedRating) {\n        this.productService.filterByRatingAndSubcategory(this.selectedSubcategory, this.selectedRating).subscribe(data => this.products = data);\n      } else {\n        this.loadProducts();\n      }\n    }\n    toggleSidebar() {\n      this.isSidebarClosed = !this.isSidebarClosed;\n    }\n    goHome() {\n      this.router.navigate(['/home']);\n    }\n    goToCart() {\n      this.router.navigate(['/cart']);\n    }\n    viewOrders() {\n      this.router.navigate(['/orders']);\n    }\n    updateProfile() {\n      this.router.navigate(['/profile']);\n    }\n    fetchProfile() {\n      this.router.navigate(['/viewProfile']);\n    }\n    static {\n      this.ɵfac = function ProductListComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || ProductListComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ProductListComponent,\n        selectors: [[\"app-productlist\"]],\n        decls: 58,\n        vars: 8,\n        consts: [[\"minPrice\", \"\"], [\"maxPrice\", \"\"], [\"noProducts\", \"\"], [1, \"dashboard-container\", 3, \"ngStyle\"], [1, \"glass-effect\"], [1, \"header\"], [1, \"toggle-btn\", 3, \"click\"], [1, \"fas\", \"fa-bars\"], [1, \"fas\", \"fa-home\", \"home-icon\", 3, \"click\"], [1, \"search-container\"], [\"type\", \"text\", \"placeholder\", \"Search for products...\", 3, \"ngModelChange\", \"ngModel\"], [3, \"click\"], [1, \"fas\", \"fa-search\"], [1, \"action-buttons\"], [1, \"body-section\"], [1, \"sidebar\"], [1, \"fas\", \"fa-user\"], [1, \"fas\", \"fa-eye\"], [1, \"filters\"], [1, \"price-filter\"], [\"type\", \"number\", \"placeholder\", \"Min Price\"], [\"type\", \"number\", \"placeholder\", \"Max Price\"], [1, \"rating-filter\"], [3, \"change\"], [\"value\", \"\"], [\"value\", \"3\"], [\"value\", \"4\"], [\"value\", \"4.5\"], [1, \"product-grid\"], [4, \"ngIf\", \"ngIfElse\"], [4, \"ngFor\", \"ngForOf\"], [\"width\", \"200\", \"height\", \"200\", 3, \"src\", \"alt\"], [\"class\", \"in-stock\", 4, \"ngIf\"], [\"class\", \"out-of-stock\", 4, \"ngIf\"], [1, \"in-stock\"], [1, \"out-of-stock\"]],\n        template: function ProductListComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            const _r1 = i0.ɵɵgetCurrentView();\n            i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 4)(2, \"div\", 5)(3, \"button\", 6);\n            i0.ɵɵlistener(\"click\", function ProductListComponent_Template_button_click_3_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.toggleSidebar());\n            });\n            i0.ɵɵelement(4, \"i\", 7);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"i\", 8);\n            i0.ɵɵlistener(\"click\", function ProductListComponent_Template_i_click_5_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.goHome());\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"div\", 9)(7, \"input\", 10);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function ProductListComponent_Template_input_ngModelChange_7_listener($event) {\n              i0.ɵɵrestoreView(_r1);\n              i0.ɵɵtwoWayBindingSet(ctx.searchKeyword, $event) || (ctx.searchKeyword = $event);\n              return i0.ɵɵresetView($event);\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(8, \"button\", 11);\n            i0.ɵɵlistener(\"click\", function ProductListComponent_Template_button_click_8_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.onSearch());\n            });\n            i0.ɵɵelement(9, \"i\", 12);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(10, \"div\", 13)(11, \"button\", 11);\n            i0.ɵɵlistener(\"click\", function ProductListComponent_Template_button_click_11_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.fetchProfile());\n            });\n            i0.ɵɵtext(12, \"Profile\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(13, \"button\", 11);\n            i0.ɵɵlistener(\"click\", function ProductListComponent_Template_button_click_13_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.viewOrders());\n            });\n            i0.ɵɵtext(14, \"Orders\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(15, \"button\", 11);\n            i0.ɵɵlistener(\"click\", function ProductListComponent_Template_button_click_15_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.goToCart());\n            });\n            i0.ɵɵtext(16, \"Cart\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(17, \"div\", 14)(18, \"div\", 15)(19, \"button\", 11);\n            i0.ɵɵlistener(\"click\", function ProductListComponent_Template_button_click_19_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.updateProfile());\n            });\n            i0.ɵɵelement(20, \"i\", 16);\n            i0.ɵɵtext(21, \" Update Profile \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(22, \"button\", 11);\n            i0.ɵɵlistener(\"click\", function ProductListComponent_Template_button_click_22_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.fetchProfile());\n            });\n            i0.ɵɵelement(23, \"i\", 17);\n            i0.ɵɵtext(24, \" View Profile \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(25, \"h3\");\n            i0.ɵɵtext(26, \"Filters\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(27, \"div\", 18)(28, \"div\", 19)(29, \"label\");\n            i0.ɵɵtext(30, \"Price Range:\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(31, \"input\", 20, 0)(33, \"input\", 21, 1);\n            i0.ɵɵelementStart(35, \"button\", 11);\n            i0.ɵɵlistener(\"click\", function ProductListComponent_Template_button_click_35_listener() {\n              i0.ɵɵrestoreView(_r1);\n              const minPrice_r2 = i0.ɵɵreference(32);\n              const maxPrice_r3 = i0.ɵɵreference(34);\n              return i0.ɵɵresetView(ctx.filterByPrice(+minPrice_r2.value, +maxPrice_r3.value));\n            });\n            i0.ɵɵtext(36, \"Apply\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(37, \"div\", 22)(38, \"label\");\n            i0.ɵɵtext(39, \"Minimum Rating:\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(40, \"select\", 23);\n            i0.ɵɵlistener(\"change\", function ProductListComponent_Template_select_change_40_listener($event) {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.onRatingChange($event));\n            });\n            i0.ɵɵelementStart(41, \"option\", 24);\n            i0.ɵɵtext(42, \"Select\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(43, \"option\", 25);\n            i0.ɵɵtext(44, \"3+\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(45, \"option\", 26);\n            i0.ɵɵtext(46, \"4+\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(47, \"option\", 27);\n            i0.ɵɵtext(48, \"4.5+\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(49, \"option\", 27);\n            i0.ɵɵtext(50, \"4.8+\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(51, \"option\", 27);\n            i0.ɵɵtext(52, \"5\");\n            i0.ɵɵelementEnd()()()()();\n            i0.ɵɵtext(53, \"- \");\n            i0.ɵɵelementStart(54, \"div\", 28);\n            i0.ɵɵtemplate(55, ProductListComponent_ng_container_55_Template, 2, 1, \"ng-container\", 29)(56, ProductListComponent_ng_template_56_Template, 2, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n            i0.ɵɵelementEnd()()()();\n          }\n          if (rf & 2) {\n            const noProducts_r7 = i0.ɵɵreference(57);\n            i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(6, _c0, \"url(\" + ctx.currentBackground + \")\"));\n            i0.ɵɵadvance(7);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.searchKeyword);\n            i0.ɵɵadvance(11);\n            i0.ɵɵclassProp(\"closed\", ctx.isSidebarClosed);\n            i0.ɵɵadvance(37);\n            i0.ɵɵproperty(\"ngIf\", ctx.products.length > 0)(\"ngIfElse\", noProducts_r7);\n          }\n        },\n        dependencies: [i3.NgForOf, i3.NgIf, i3.NgStyle, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel],\n        styles: [\".body-section[_ngcontent-%COMP%]{display:flex;margin-top:20px}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background-color:#131921e6;padding:10px 20px;border-radius:8px}.dashboard-container[_ngcontent-%COMP%]{min-height:100vh;background-size:cover;background-repeat:no-repeat;background-position:center;backdrop-filter:blur(1px);padding:20px;color:#fff;font-family:Segoe UI,sans-serif}.product-list-container[_ngcontent-%COMP%]{display:flex;gap:20px;padding:20px;margin:0 40px;background:#ffffff26;border-radius:20px;backdrop-filter:blur(12px);box-shadow:0 8px 32px #0003}.filters[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;margin-bottom:15px;color:#222}.filters[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin:10px 0 5px;font-weight:600;color:#222}h3[_ngcontent-%COMP%]{color:#222}.filters[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:65%;padding:10px;border-radius:12px;border:1px solid rgba(0,0,0,.1);background:#ffffff80;margin-bottom:12px;font-size:14px;outline:none}.filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:40%;padding:10px;background:#007bff;border:none;color:#fff;font-weight:700;border-radius:12px;cursor:pointer;transition:.3s}.filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#0056b3}.product-grid[_ngcontent-%COMP%]{flex:1;display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:20px}.product-grid[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background:#ffffff4d;border-radius:20px;padding:15px;box-shadow:0 6px 18px #00000026;text-align:center;backdrop-filter:blur(8px);transition:transform .3s,box-shadow .3s}.product-grid[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 10px 25px #0003}.product-grid[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:contain;border-radius:10px}.product-grid[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px;margin:10px 0 5px;color:#222}.in-stock[_ngcontent-%COMP%]{color:green;font-weight:700}.out-of-stock[_ngcontent-%COMP%]{color:red;font-weight:700}.product-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 15px;margin-top:10px;border:none;background-color:#28a745;color:#fff;border-radius:10px;cursor:pointer;font-weight:700;transition:.3s}.product-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#1e7e34}.toggle-btn[_ngcontent-%COMP%], .fa-home-icon[_ngcontent-%COMP%]{color:#fff;font-size:20px;cursor:pointer;margin-right:15px}.brand[_ngcontent-%COMP%]{color:#fff;font-size:24px;font-weight:700}.search-container[_ngcontent-%COMP%]{flex:1;margin-left:20px;display:flex;align-items:center}.search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:50%;padding:8px 12px;border-radius:6px;border:none;outline:none;font-size:16px;align-items:center}.search-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#febd69;border:none;padding:8px 12px;margin-left:10px;border-radius:6px;cursor:pointer}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:10px}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#37475a;color:#fff;border:none;padding:8px 12px;border-radius:6px;cursor:pointer}.sidebar[_ngcontent-%COMP%]{background-color:#ffffff1a;padding:15px;border-radius:12px;width:200px;transition:all .3s}.sidebar.closed[_ngcontent-%COMP%]{display:none}.sidebar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;background-color:#232f3e;color:#fff;border:none;padding:8px 10px;margin-bottom:10px;border-radius:8px;cursor:pointer}.products-search[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:20px;padding:20px}.catagories-container-search[_ngcontent-%COMP%]{flex:1;margin-left:20px}\"]\n      });\n    }\n  }\n  return ProductListComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}